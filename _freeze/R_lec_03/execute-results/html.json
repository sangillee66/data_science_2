{
  "hash": "4ae66a89a373b33f40db5042b8bc56c5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Import and Tidying\"\nauthor: Sang-Il Lee\ntitle-slide-attributes: \n  data-background-image: R_2.gif\n  data-background-position: 85% 5%\n  data-background-size: 20%\n  data-background-opacity: \"1e\"\ndate-modified: last-modified\nnumber-sections: false\nformat: \n  revealjs:\n#    footer: <https://sangillee.snu.ac.kr>\n    chalkboard: false\n    slide-number: true\n    pointer:\n      pointerSize: 20\n    embed-resources: false\nrevealjs-plugins:\n  - pointer\ncode-link: true\nexecute: \n  warning: false\n  error: false\n  freeze: auto\neditor: visual\n# suppress-bibliography: true\n---\n\n\n\n# Data Import\n\n## A data science process with R: 1st step\n\n![](images/clipboard-1225375471.png)\n\n## `readr` package\n\n![](images/clipboard-1251213286.png){fig-align=\"center\"}\n\n## Main functions of `readr` package\n\n| Names          | Formats                                    |\n|----------------|--------------------------------------------|\n| `read_csv()`   | 콤마분리(comma-separated values, CSV) 형식 |\n| `read_csv2()`  | 세미콜론분리(semicolon-separated) 형식     |\n| `read_tsv()`   | 탭구분(tab-limited) 형식                   |\n| `read_delim()` | 여타의 구분 형식                           |\n| `read_fwf()`   | 고정폭(fixed-width) 형식                   |\n| `read_table()` | 공백구분 형식                              |\n| `read_log()`   | 아파치 형식(Apache-style)의 로그 파일      |\n\n## Main arguments of `read_csv()`\n\n-   컬럼명: `col_names`\n\n-   컬럼의 데이터 유형 지정과 파싱(parsing): `col_types = cols()`\n\n    -   `col_double()`\n\n    -   `col_integer()`\n\n    -   `col_character()`\n\n    -   `col_logical()`\n\n## Related packages\n\n::: {layout=\"[30,30, 30]\" layout-valign=\"center\"}\n![](images/clipboard-2419843589.png)\n\n![](images/clipboard-2386206028.png)\n\n![](images/clipboard-812069546.png)\n:::\n\n## `readxl` package\n\n-   `read_xls(), read_xlsx(), read_excel()`\n\n    -   `sheet`\n\n    -   `skip`\n\n    -   `col_names`\n\n    -   `col_types`: \"skip\", \"guess\", \"text\", \"logical\", \"numeric\", etc.\n\n## Another way\n\n![](images/clipboard-3854717875.png)\n\n# Tibble\n\n## `tibble` package\n\n-   A new type of dataframe provided by tidyverse\n\n![](images/clipboard-3459494907.png){fig-align=\"center\"}\n\n## tibble vs. data.frame\n\n![](images/clipboard-2404269740.png){fig-align=\"center\"}\n\n## Data viewer\n\n-   Like an Excel view\n\n-   How to initiate\n\n    -   `View()` function\n\n    -   Click on an icon in Environment window\n\n-   Functions\n\n    -   Sorting\n\n    -   Scrolling\n\n    -   Filtering\n\n    -   Searching\n\n## Data viewer\n\n![](images/clipboard-3652581161.png)\n\n## Data viewer\n\n![](images/clipboard-2907343879.png)\n\n# Data Tidying\n\n## `tidyr` package\n\n![](images/clipboard-1046439731.png){fig-align=\"center\"}\n\n## The concept of tidy data\n\n![](images/clipboard-4067066416.png)\n\n## The concept of tidy data\n\n![](images/clipboard-3412852372.png)\n\n## The concept of tidy data\n\n-   개별 변수(variable)는 열(column) 하나를 차지한다. 즉, 개별 열에는 하나의 변수가 위치한다.\n\n-   개별 관측개체(observation)는 하나의 행(row)을 차지한다. 즉, 개별 행에는 하나의 관측개체가 위치한다.\n\n-   개별 값(value)은 하나의 셀(cell)을 차지한다. 즉, 개별 셀에는 하나의 값이 위치한다.\n\n## Examples: table1\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n\n## Examples: table2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 4\n   country      year type            count\n   <chr>       <dbl> <chr>           <dbl>\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n```\n\n\n:::\n:::\n\n\n\n## Examples: table3\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  country      year rate             \n  <chr>       <dbl> <chr>            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n```\n\n\n:::\n:::\n\n\n\n## Benefits of tidy data\n\n![](images/clipboard-3106963859.png)\n\n## Benefits of tidy data\n\n![](images/clipboard-3609380673.png)\n\n## Benefits of tidy data\n\n![](images/clipboard-1736663833.png)\n\n## Core methods of data tidying\n\n![](images/clipboard-1179593338.png){fig-align=\"center\"}\n\n## wide form vs. long form\n\n![](images/clipboard-2491549849.png){fig-align=\"center\"}\n\n## Lengthening data\n\n::: panel-tabset\n## table4a\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable4a\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  country     `1999` `2000`\n  <chr>        <dbl>  <dbl>\n1 Afghanistan    745   2666\n2 Brazil       37737  80488\n3 China       212258 213766\n```\n\n\n:::\n:::\n\n\n\n## Result\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable4a |> \n  pivot_longer(\n    cols = c(`1999`, `2000`),\n    names_to = \"year\", \n    values_to = \"cases\"\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  country     year   cases\n  <chr>       <chr>  <dbl>\n1 Afghanistan 1999     745\n2 Afghanistan 2000    2666\n3 Brazil      1999   37737\n4 Brazil      2000   80488\n5 China       1999  212258\n6 China       2000  213766\n```\n\n\n:::\n:::\n\n\n:::\n\n## Lengthening data\n\n![](images/clipboard-2601245679.png)\n\n## Widening data\n\n::: panel-tabset\n## table2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 4\n   country      year type            count\n   <chr>       <dbl> <chr>           <dbl>\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n```\n\n\n:::\n:::\n\n\n\n## Result\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2 |> \n  pivot_wider(\n    id_cols = c(country, year),\n    names_from = type, \n    values_from = count\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n:::\n\n## Widening data\n\n![](images/clipboard-3400622461.png)\n\n# Data Join\n\n## `dplyr` package\n\n![](images/clipboard-3059639685.png){fig-align=\"center\"}\n\n## Keys\n\n![](images/clipboard-1575493085.png)\n\n## Types of join\n\n![](images/clipboard-1394869847.png){fig-align=\"center\"}\n\n## Types of join\n\n::: {layout=\"[45, -5, 45]\" layout-valign=\"center\"}\n![](images/clipboard-3276497169.png)\n\n![](images/clipboard-1577298199.png)\n:::\n\n## Types of join\n\n::: {layout=\"[45, -5, 45]\" layout-valign=\"center\"}\n![](images/clipboard-2197162614.png){fig-align=\"center\"}\n\n![](images/clipboard-2555805146.png){fig-align=\"center\"}\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}